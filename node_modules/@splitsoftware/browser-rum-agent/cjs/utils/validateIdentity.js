"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.areEqual = exports.validateIdentity = void 0;
var isNumber_1 = require("./isNumber");
var isObject_1 = require("./isObject");
var isString_1 = require("./isString");
function validateIdentity(identity, log) {
    if (!(0, isObject_1.isObject)(identity)) {
        log.error('Identity must be an object with key and trafficType.');
        return;
    }
    var key = identity.key, trafficType = identity.trafficType;
    if ((0, isNumber_1.isNumber)(key))
        key = key + '';
    if (!(0, isString_1.isString)(key)) {
        log.error('Identity Key must be a string or number.');
        return;
    }
    if (!(0, isString_1.isString)(trafficType)) {
        log.error('Identity Traffic Type must be a string.');
        return;
    }
    return {
        key: key.trim(),
        trafficType: trafficType.trim().toLowerCase()
    };
}
exports.validateIdentity = validateIdentity;
function areEqual(identity1, identity2) {
    return identity1.key === identity2.key && identity1.trafficType === identity2.trafficType;
}
exports.areEqual = areEqual;
