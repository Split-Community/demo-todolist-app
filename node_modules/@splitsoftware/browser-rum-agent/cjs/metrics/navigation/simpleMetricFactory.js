"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.simpleMetricFactory = void 0;
var getNavEntry_1 = require("../../utils/getNavEntry");
/**
 * Simplified navigation/load related metrics factory. Provide the event type and the calculation function, which will receive the navigation entry.
 */
function simpleMetricFactory(type, calc) {
    var sent = false;
    return function () {
        var pageNav = (0, getNavEntry_1.getNavEntry)();
        if (sent || !pageNav)
            return false; // The entry is not here yet, or the data was already sent.
        var val = calc(pageNav);
        if (!val)
            return false;
        else {
            sent = true;
            return {
                eventTypeId: type,
                value: val,
            };
        }
    };
}
exports.simpleMetricFactory = simpleMetricFactory;
